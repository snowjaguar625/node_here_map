extends ../../layout

block content
    title= title 
    link(rel='stylesheet' href='/stylesheets/extension3_1.css' media='screen' data-turbolinks-track='true')
    #content-padder 
    #content-real
        .ctrl-panel
            span#toggle-ctrl-panel.glyphicon.glyphicon-menu-left
            p
                | &#x3053;&#x306E;&#x30C7;&#x30E2;&#x3067;&#x306F;&#x3001;&#x4E00;&#x9023;&#x306E;&#x30A6;&#x30A7;&#x30A4;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x901A;&#x308B;&#x6700;&#x9069;&#x306A;&#x30EB;&#x30FC;&#x30C8;&#x3092;&#x8A08;&#x7B97;&#x3059;&#x308B;&#x30A6;&#x30A7;&#x30A4;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B7;&#x30FC;&#x30B1;&#x30F3;&#x30B9;&#x62E1;&#x5F35;&#x6A5F;&#x80FD;&#x3092;&#x7D39;&#x4ECB;&#x3057;&#x307E;&#x3059;&#xFF08;&#x5DE1;&#x56DE;&#x30BB;&#x30FC;&#x30EB;&#x30B9;&#x30DE;&#x30F3;&#x554F;&#x984C;&#xFF09;&#x3002;
                input#more.here-btn.here-btn-1(type='button' value='もっと' onclick='detailsSelect();')
            #detaildesc.details(style='display: none')
                p
                    | &#x6700;&#x77ED;&#x8DDD;&#x96E2;&#x307E;&#x305F;&#x306F;&#x6700;&#x77ED;&#x79FB;&#x52D5;&#x6642;&#x9593;&#x3092;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306B;&#x3067;&#x304D;&#x307E;&#x3059;&#x3002;&#x30B7;&#x30FC;&#x30B1;&#x30F3;&#x30B9;&#x304C;
                    br
                    | &#x8A08;&#x7B97;&#x3055;&#x308C;&#x305F;&#x4EA4;&#x901A;&#x60C5;&#x5831;&#x3092;&#x8003;&#x616E;&#x306B;&#x5165;&#x308C;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x307E;&#x3059;&#x3002;
                    br
                    | &#x30A6;&#x30A7;&#x30A4;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306F;&#x3001;&#x4E0B;&#x306E;&#x30C6;&#x30AD;&#x30B9;&#x30C8;&#x9818;&#x57DF;&#x307E;&#x305F;&#x306F;&#x5F8C;&#x306B;&#x5EA7;&#x6A19;&#x307E;&#x305F;&#x306F;&#x4F4F;&#x6240;&#x3068;&#x3057;&#x3066;&#x5165;&#x529B;&#x3067;&#x304D;&#x307E;&#x3059;
                    br
                    | &apos;&#x5EA7;&#x6A19;&#x3092;&#x8FFD;&#x52A0;&#x3057;&#x307E;&#x3059;&#x3002;&#x3002;&apos; &#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x5EA7;&#x6A19;&#x306F;&#x3001;&#x30DE;&#x30C3;&#x30D7;&#x3092;&#x30AF;&#x30EA;&#x30C3;&#x30AF;&#x3057;&#x3066;&#x8FFD;&#x52A0;&#x3067;&#x304D;&#x307E;&#x3059;&#x3002;
                p
                    | &#x30AA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x4E00;&#x610F;&#x306E;ID&#x3068;&#x5834;&#x6240;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#x3001;&#x56DE;&#x7DDA;&#x3054;&#x3068;&#x306B;1&#x3064;&#x306E;&#x30A6;&#x30A7;&#x30A4;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x5165;&#x529B;&#x3057;&#x307E;&#x3059; (&#x5EA7;&#x6A19;&#x307E;&#x305F;&#x306F;&#x4F4F;&#x6240;).
                    br
                    | &#x53D7;&#x3051;&#x5165;&#x308C;&#x3089;&#x308C;&#x308B;&#x30D5;&#x30A9;&#x30FC;&#x30DE;&#x30C3;&#x30C8;&#x306F;
                    br
                    b &quot;text-id;latitude,longitude&quot;
                    |  or
                    br
                    b &quot;text-id;{address}&quot;
                    |  or
                    br
                    b &quot;latitude,longitude&quot;
                    |  or
                    br
                    b &quot;{address}&quot;
                    br
                    | &#x30AA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x3067;&#x3001;&#x5236;&#x7D04;&#x3092;&#x30A6;&#x30A7;&#x30A4;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306B;&#x8FFD;&#x52A0;&#x3067;&#x304D;&#x307E;&#x3059;&#x3002;
                    br
                    b &quot;text-id;latitude,longitude{constraint}&quot;
                    br
                    | Types of constraint are: appointments(at), access hours(acc), service time(st), e.g.
                    br
                    b &quot;acc:mo12:00:00+01:00|mo18:00:00+01:00;st:900&quot;
                    | .
                    br
                    | The triple of id, latitude and longitude must not contain characters
                    br
                    | other than a-z,A-Z,0-9,full stop as decimal separator(.) and the delimiters.
                    br
                    | The first point is the start point. If &quot;Last point in list is final destination&quot;
                    br
                    | is checked, the route ends at the last waypoint in the list.
                p
                    | &#x4F5C;&#x6210;&#x3059;&#x308B;&#x306B;&#x306F; 
                    b &#x5F80;&#x5FA9;
                    |  &#x6700;&#x521D;&#x3068;&#x6700;&#x5F8C;&#x306E;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306F;&#x540C;&#x3058;&#x5EA7;&#x6A19;&#x3092;&#x5171;&#x6709;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308A;&#x307E;&#x3059;
                    br
                    | &#x305F;&#x3060;&#x3057;&#x3001;ID&#x306F;&#x7570;&#x306A;&#x308A;&#x307E;&#x3059;&#x3002;
                    br
                    | &#x4EA4;&#x901A;&#x60C5;&#x5831;&#x306E;&#x5229;&#x7528;&#x3084;&#x6642;&#x9593;&#x7684;&#x5236;&#x7D04;&#x306E;&#x53D6;&#x308A;&#x6271;&#x3044;&#x306B;&#x306F;&#x51FA;&#x767A;&#x6642;&#x9593;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#x305F;&#x3081;,
                    br
                    | &#x3053;&#x306E;&#x6642;&#x9593;&#x306F;&#x3001;&#x3053;&#x306E;&#x30C7;&#x30E2;&#x3067;&#x306F;&#x5E38;&#x306B;&#x63D0;&#x4F9B;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308A;&#x307E;&#x3059;&#x3002;
                p
                    | To provide custom 
                    b Rest Times
                    |  four time periods in seconds must be provided:
                    br
                    | a short driving phase, a short rest, a long driving phase and a long rest.
                    br
                    | It needs to be defined if service times at a waypoint is 
                    b rest
                    | ing or 
                    b work
                    | ing time.
                    br
                    | The default are simplified Japanese rest times.
                p
                    | Please find the detailed description of all parameters in the
                    a(href='https://developer.here.com/platform-extensions' target='_blank') service documentation
                    | .
            hr.separator
            .form-horizontal
                .form-group
                    label.control-label.col-sm-4(for='environment') &#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;:
                    .col-sm-8
                        input#endpoint(type='text' size='33' value='https://wse.ls.hereapi.com' placeholder='URL with http or https and host' list='environments')
                .form-group
                    label.control-label.col-sm-4(for='exampleSelector') &#x5B9A;&#x7FA9;&#x6E08;&#x307F;&#x306E;&#x4F8B;:
                    .col-sm-8
                        select#exampleSelector.form-control(onchange='exampleSelect(this)')
                            option(value='ex0' selected='true') None
                            option(value='ex1') Koto City round trip without constraints
                            option(value='ex2') Koto city round trip with A before B
                            option(value='ex3') Koto city round trip with access hours
                        //- //
                        //-     <option value="ex4">Disneyland, Paris trip without constraints</option>
                        //-     <option value="ex5">Disneyland, Paris: filling a time gap</option>
                        //-     <option value="ex6">European Capitals: mixed input formats</option>
                        //-     <option value="ex7">Frankfurt Downtown Pedestrian Example</option>
                        //-     <option value="ex8">Frankfurt Airport Area Pedestrian Example</option>
                        //-     <option value="ex9">Frankfurt Area</option>
                .form-group
                    label.col-sm-4(for='exampleSelector') &#x5B9B;&#x5148;:(&#x30C6;&#x30AD;&#x30B9;&#x30C8;ID;&#x7DEF;&#x5EA6;&#x3001;Lng)
                    .col-sm-8
                        textarea#destinations.form-control(rows='8' placeholder='(ID;)address or Lat,Long(;constraints)')
                        .checkbox
                            label
                                input#addCoords(type='checkbox' value='on')
                                | Add coordinates by clicking into the map
                        .checkbox
                            label
                                input#useEnding(type='checkbox' value='on' checked='')
                                | Last point in list is final destination
                .form-group
                    label.control-label.col-sm-4(for='improveFor') &#x306E;&#x305F;&#x3081;&#x306B;&#x6700;&#x9069;&#x5316;&#x3059;&#x308B;:
                    .col-sm-8
                        select#improveFor.form-control
                            option(value='TIME' selected='true') time
                            option(value='DISTANCE') distance
                            option(value='NONE') Don&apos;t optimize, show input order
                .form-group
                    label.control-label.col-sm-4(for='improveFor') &#x4E57;&#x308A;&#x7269;:
                    .col-sm-8
                        select#vehicleType.form-control(onchange='truckSelect();')
                            option(value='car' selected='true') car
                            option(value='truck') truck
                            option(value='pedestrian') pedestrian
                        #truckRestDiv.checkbox.input-details
                            label
                                input#truckrestr(type='checkbox' value='on' checked='checked' onchange='truckSelect();')
                                | Display truck restrictions
            #vehicleDetails.form-horizontal.input-details
                hr.separator
                h5 Truck Attributes:
                .form-group
                    .col-sm-4
                        label.control-label(for='height') Height [m]
                    .col-sm-8
                        input#height.form-control(type='text' size='8' value='3.80' pattern='[0-9]*\.?[0-9]*')
                .form-group
                    .col-sm-4
                        label.control-label(for='width') Width [m]
                    .col-sm-8
                        input#width.form-control(type='text' size='8' value='2.30' pattern='[0-9]*\.?[0-9]*')
                .form-group
                    .col-sm-4
                        label.control-label(for='length') Length [m]
                    .col-sm-8
                        input#length.form-control(type='text' size='8' value='8.35' pattern='[0-9]*\.?[0-9]*')
                .form-group
                    .col-sm-4
                        label.control-label(for='limitedWeight') Limited Weight [t]
                    .col-sm-8
                        input#limitedWeight.form-control(type='text' size='8' value='18' pattern='[0-9]*\.?[0-9]*')
                .form-group
                    .col-sm-4
                        label.control-label(for='weightPerAxle') Weight Per Axle [t]
                    .col-sm-8
                        input#weightPerAxle.form-control(type='text' size='8' value='10' pattern='[0-9]*\.?[0-9]*')
                .form-group
                    .col-sm-4
                        label.control-label(for='hasTrailer') Trailer
                    .col-sm-8
                        input#hasTrailer(type='checkbox')
                hr.separator
                h5 Shipped Hazardous Goods
                .form-group
                    .checkbox.col-sm-3
                        label
                            input#explosive(type='checkbox')
                            | explosive
                    .checkbox.col-sm-3
                        label
                            input#gas(type='checkbox')
                            | gas
                    .checkbox.col-sm-3
                        label
                            input#flammable(type='checkbox')
                            | flammable
                    .checkbox.col-sm-3
                        label
                            input#combustible(type='checkbox')
                            | combustible
                    .checkbox.col-sm-3
                        label
                            input#organic(type='checkbox')
                            | organic
                    .checkbox.col-sm-3
                        label
                            input#poison(type='checkbox')
                            | poison
                    .checkbox.col-sm-3
                        label
                            input#radioActive(type='checkbox')
                            | radioactive
                    .checkbox.col-sm-3
                        label
                            input#corrosive(type='checkbox')
                            | corrosive
                    .checkbox.col-sm-3
                        label
                            input#poisonousInhalation(type='checkbox')
                            | poisonous Inh.
                    .checkbox.col-sm-3
                        label
                            input#harmfulToWater(type='checkbox')
                            | water harm.
                    .checkbox.col-sm-3
                        label
                            input#other(type='checkbox')
                            | other
                hr.separator
            .form-horizontal
                .form-group
                    .col-sm-4
                        label.control-label(for='traffic') &#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;&#x5BFE;&#x5FDC;&#x30EB;&#x30FC;&#x30C6;&#x30A3;:
                    .col-sm-8
                        select#traffic.form-control
                            option(value='enabled') enabled
                            option(value='disabled' selected='true') disabled
                .form-group
                    .col-sm-4
                        label.control-label(for='traffic') &#x51FA;&#x767A;&#x65E5;&#x3068;&#x6642;&#x523B;:
                    .col-sm-8
                        .form-inline
                            input#departureDate.form-control.col-sm-6(type='text' value='20-10-14' placeholder='YYYY-MM-DD' size='12' pattern='^(19|20)\d\d[-](0[1-9]|1[012])[-](0[1-9]|[12][0-9]|3[01])$' title='Date with YYYY-MM-DD')
                            input#departureTime.form-control.col-sm-6(type='text' value='08:30:00' placeholder='HH:MM:SS' size='12' pattern='^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$' title='Time with HH:MM:SS')
                            br
                        div
                            br
                            | (timezone of webbrowser, DST from given date)
                .form-group
                    .col-sm-4
                        label.control-label(for='rest-selector') Rest times:
                    .col-sm-8
                        select#rest-selector.form-control(onchange='restSelect()')
                            option(value='default') default
                            option(value='custom') custom
                            option(value='disabled' selected='true') disabled
                        .checkbox
                            label
                                input#showwaypointdetail(type='checkbox' value='on' checked='checked')
                                | Show waypoint details
                        .checkbox
                            label
                                input#keepPrevious(type='checkbox' value='on')
                                | Keep previous route on display
                        #endpointDetails.endpoint-details
                            b Custom Config:
                            #serverendpoint
                    .col-sm-4
                        label.control-label(for='add-params') &#x305D;&#x306E;&#x4ED6;&#x306E;&#x5C5E;&#x6027;
                    .col-sm-8
                        input#additional(type='text' size='42' value='' placeholder='&other=parameters&...')
                #custom-rest-times.form-group
                    .col-sm-4
                        label.control-label Custom rest times:
                    .col-sm-8
                        .form-inline
                            input#rest-custom-durations.resttime-details.form-control(onchange='restSelect()' size='22' type='text' value='16200,2700,32400,39600' placeholder='drive1,rest1,drive2,rest2' pattern='^(\d+,\d+,\d+,\d+)$' title='driving and resting durations')
                            select#rest-custom-serviceTimes.resttime-details.form-control(onchange='restSelect()')
                                option(value='rest') rest
                                option(value='work' selected='true') work
            .form-group
                input#start.here-btn.here-btn-1(type='button' value='Calculate' onclick='startOptimize()')
            hr.separator
            .form-group
                #feedbackTxt
            hr.separator
            div HLP Service releases which are used in this demo:
            #releaseInfoTxt(style='left:0; top:0; z-index: 0;')
        style.
            #notecontent a {
            color : white;
            }
            #notecontent a:hover {
            color : red;
            }
            details {
            display: none
            }
            .input-details {
            display: none
            }
            .endpoint-details {
            display: none
            }
            #custom-rest-times {
            display: none
            }
            table td, table td * {
            vertical-align: top;
            }
            textarea {
            white-space: pre;
            word-wrap: normal;
            overflow: scroll;
            }
            ul.timeline {
            width: 400px;
            font-size: x-small;
            list-style-position: inside;
            padding: 0;
            vertical-align: middle;
            font-weight: bold;
            }
            ul.timeline li {
            }
            li.accStarts, li.accEnds {
            color: #59b354;
            }
            li.stStarts, li.stEnds {
            color: #1b5fcc;
            }
            li.arr {
            color: red;
            }
            li.dep {
            color: white;
            }
            li.at {
            color: yellow;
            }
            li.before {
            color: orange;
            }
            .cont-time {
            z-index: 999;
            float: left;
            height: 21px;
            padding: 7px 10px 1px 5px;
            font-family: Arial,Helvetica,sans-serif;
            font-weight: bold;
            font-size: 10px;
            display: none;
            }
            .menubkg {
            background-color: #f8f8f8;
            border-radius: 15px;
            color: black;
            }
            .menubkg select {
            font-size: 10px;
            vertical-align: middle;
            }
            .menubkg select option:checked {
            background-color: #999;
            }
            .tselect {
            background-image: url(/assets/examples/traffic_timebw30x34s.png);
            width: 30px;
            height: 34px;
            margin-top: 2px;
            display: block;
            z-index: 999;
            float: left;
            cursor: pointer;
            text-decoration: none;
            }
            .cursorPointer {
            cursor: pointer;
            }
        #mapContainer
            .ctrl-time
                .cont-time.menubkg
                    label(for='dOfWeek') Day of week: 
                    select#dOfWeek.nvt_select(name='')
                            option(value='0') Sunday
                            option(value='1') Monday
                            option(value='2') Tuesday
                            option(value='3') Wednesday
                            option(value='4') Thursday
                            option(value='5') Friday
                            option(value='6') Saturday
                    span &nbsp;&nbsp;
                    label(for='hour') Time: 
                    select#hour.nvt_select(name='')
                        option(value='0') 0
                        option(value='1') 1
                        option(value='2') 2
                        option(value='3') 3
                        option(value='4') 4
                        option(value='5') 5
                        option(value='6') 6
                        option(value='7') 7
                        option(value='8') 8
                        option(value='9') 9
                        option(value='10') 10
                        option(value='11') 11
                        option(value='12') 12
                        option(value='13') 13
                        option(value='14') 14
                        option(value='15') 15
                        option(value='16') 16
                        option(value='17') 17
                        option(value='18') 18
                        option(value='19') 19
                        option(value='20') 20
                        option(value='21') 21
                        option(value='22') 22
                        option(value='23') 23
                    span :
                    select#minutes.nvt_select(name='')
                        option(value='00') 00
                        option(value='10') 10
                        option(value='20') 20
                        option(value='30') 30
                        option(value='40') 40
                        option(value='50') 50
                a.button.trafficTimeBtn.tselect
    script(src='/javascripts/examples/v31_jp/waypoint_sequence_extension_jp.js')
